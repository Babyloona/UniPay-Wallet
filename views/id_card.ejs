<%- include("header") %>
    <main id="dbclick">
      <div style="margin-left:20%">
        <div class="button-container">  
    
          <form method ="post" action="/IDTransactionsGet">
            <button class="info-button" style="margin-right:10px" type="submit" ><b>Get transactions</b></button> 
           
            <input type="hidden" id="userAccountInput2" name="userAccount2" value="">
        
          </form>
        
          <button class="info-button" onclick="showPopup()"><b>Start Payment</b></button></div>
      <div id="popup5" class="popup5">
        <div class="close-btn" onclick="closePopup()">X</div>
        <form id="paymentForm" action="/IDcardPayment" method ='post'>
          <label for="studentBarcode" style="color:black">Student Barcode:</label>
          <input  type="number" name="studentBarcode" required>
        
          <label for="comments" style="color:black">Comments:</label>
          <input  type="text" name="comments">
        
        
        
          <input  type="hidden" id="userAccountInput" name="userAccount" value="">
          <label for="fullName" style="color:black">Full Name:</label>
          <input  type="text" name="fullName" required>

          <label for="photo" style="color:black">Upload Photo:</label>
          <input style="margin-bottom:5px"  type="file" name="photo" accept="image/*" required>

          <button type="submit" >Connect</button>
        </form>
        
      </div>
<div class="hr"></div>
<% if (username == "hehe@hehe") { %>
  <form method="post" action='/setRequiredPriceID' style="display: block; margin-right: 10px;">
    <button class="info-button1" type="submit"><b>Set Price</b></button>
    <input type="number" style="height:30px" name="price">      
    <input type="hidden" id="userAccountInput3" name="userAccount3" value="">
  </form>
  <form method="post" action='/setUniAddressID' style="display: block; margin-right: 10px;">
    <button class="info-button1" type="submit"><b>Set university Address</b></button>
    <input type="text" style="height:30px" name="uni">      
    <input type="hidden" id="userAccountInput5" name="userAccount5" value="">
  </form>
  <form method="post" action="/IDTransactionsGetAll" style="display: block;">
    <button class="info-button1" type="submit"><b>Get All transactions</b></button> 
    <input type="hidden" id="userAccountInput4" name="userAccount4" value="">
  </form>
<% }else{ %>
  <div class="col-lg-11">
  <p class="info-paragraph">Dear Student,</p>

  <p class="info-paragraph">We understand that you've lost your student ID card and need a replacement. To expedite the process, we've set up an online system for you to request and pay for your replacement ID card. Please follow these steps carefully:</p>

  <p class="section-header">STEP 1. Access the Online Portal:</p>

  <p class="info-paragraph">Visit our official school website and log in to your student account. Look for the "Lost ID Card Replacement" or similar option in your student dashboard. Click on it to begin the replacement process.</p>

  <p class="section-header">STEP 2. Fill Out the Replacement Request Form:</p>

  <p class="info-paragraph">Complete the online replacement request form with accurate information. You may need to provide details such as your name, student ID number, contact information, and any other required fields. Double-check the information to ensure accuracy.</p>

  <p class="section-header">STEP 3. Upload Identification Documents:</p>

  <p class="info-paragraph">Upload scanned copies or clear photos of your identification documents, such as a driver's license, passport, or any other government-issued photo ID. This step is crucial for identity verification.</p>

  <p class="section-header">STEP 4. Choose Payment Method:</p>

  <p class="info-paragraph">Select your preferred payment method. We accept online payments via credit/debit cards. Enter your card details securely into the payment gateway. Ensure that your billing information matches the card details for successful processing.</p>

  <p class="section-header">STEP 5. Review and Confirm:</p>

  <p class="info-paragraph">Review the replacement request details and the total cost. Confirm that all the information is accurate and proceed to make the payment. Double-check the payment amount before confirming the transaction.</p>

  <p class="section-header">STEP 6. Payment Confirmation:</p>

  <p class="info-paragraph">After a successful payment, you will receive a confirmation email and a digital receipt. Keep this receipt for your records as proof of payment.</p>

  <p class="section-header">STEP 7. Track Your Replacement:</p>

  <p class="info-paragraph">You may be provided with a tracking number or a reference ID. Use this information to track the status of your replacement ID card. Typically, you will receive updates via email regarding the processing and shipping of your new card.</p>

  <p class="section-header">STEP 8. Delivery of Replacement ID Card:</p>

  <p class="info-paragraph">Once your replacement ID card is processed, it will be mailed to the address on file or the address you provided during the request. Ensure someone is available to receive the card upon delivery.</p>

  <p class="section-header">STEP 9. Contact Support (If Needed):</p>

  <p class="info-paragraph">If you encounter any issues during the online payment or have questions about the replacement process, contact our technical support team via email at [Support Email Address] or call our helpline at [Support Phone Number].</p>

  <p class="info-paragraph">Thank you for using our online services. If you have any further inquiries, please don't hesitate to reach out. We hope you have a pleasant experience with the replacement process.</p>

  <p class="info-paragraph contact-info">Best regards,<br>
    UniPay Wallet team<br>
    Astana IT University<br>
    Email: unipay_wallet@bk.ru<br>
    Phone: +7 777 777 77 77</p>
  </div>
  <%}%>
</div>
<div class="solid"></div>
<div class="footer-basic" style="margin-left: 15%;">
          
  <div class="social"><a href="https://www.instagram.com/"><i class="icon ion-social-instagram"></i></a><a href="https://ru.linkedin.com/"><i class="icon ion-social-linkedin"></i></a><a href="https://twitter.com"><i class="icon ion-social-twitter"></i></a><a href="https://ru-ru.facebook.com/"><i class="icon ion-social-facebook"></i></a></div>
      <ul class="list-inline">
          <li class="list-inline-item"><a href="#">Services</a></li>
          <li class="list-inline-item"><a href="#">About</a></li>
          <li class="list-inline-item"><a href="#">Terms</a></li>
          <li class="list-inline-item"><a href="#">Privacy Policy</a></li>
      </ul>
  <p class="copyright">UniPay Wallet Â© 2023</p>

</div></main>
<script>
  connect();
  function showPopup() {
    document.getElementById('popup5').style.display = 'block';
}
function closePopup() {
  document.getElementById('popup5').style.display = 'none';
}
function submitForm() {
    alert("WARNING! MetaMask will open");
}
  //Get the button
  var mybutton = document.getElementById("myBtn");
  
  // When the user scrolls down 20px from the top of the document, show the button
  window.onscroll = function() {scrollFunction()};
  
  function scrollFunction() {
    if (document.body.scrollTop > 20 || document.documentElement.scrollTop > 20) {
      mybutton.style.display = "block";
    } else {
      mybutton.style.display = "none";
    }
  }
  
  // When the user clicks on the button, scroll to the top of the document
  function topFunction() {
    document.body.scrollTop = 0;
    document.documentElement.scrollTop = 0;
  }
  async function connect(){
    try {
      // Requesting accounts from the user's wallet
      const accounts = await window.ethereum.request({ method: 'eth_requestAccounts' });
  
      // Access the first account in the array
      const userAccount = accounts[0];
  
      console.log(userAccount);
      document.getElementById('userAccountInput').value = userAccount;
      document.getElementById('userAccountInput2').value = userAccount;
      document.getElementById('userAccountInput3').value = userAccount;
      document.getElementById('userAccountInput4').value = userAccount;
      document.getElementById('userAccountInput5').value = userAccount;
      document.getElementById('window').value = window.ethereum;
      return userAccount;
      
    } catch (error) {
      console.error('Error connecting to Ethereum:', error);
      return null; // or handle the error in some way
    }
   }
  </script>
    <script src="js/myscript.js" charset="utf-8" ></script>
    <script src="js/theme.js" charset="utf-8" ></script>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
    <script src="jquery.min.js"></script>
<script src="owlcarousel/owl.carousel.min.js"></script>

</body>
